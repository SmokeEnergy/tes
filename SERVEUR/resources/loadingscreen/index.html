<html>
    <head>
    	<title>Chargement en cours | N3MTV</title>
        <link href="style.css" rel="stylesheet" type="text/css" />
    </head>
		
    <body>
		<audio autoplay="" id="Loading" loop=""><source src="music/Loading.ogg" type="audio/ogg" />
			<!-- If you want change the sound please, convert your sound in .ogg and put this in music folder  and change Loading.ogg to your sound .ogg-->
			<source src="music/Loading.ogg" type="audio/ogg">
		</audio>
		<div class='loader'>
			<div class='loader_overlay'></div>
			<div class='loader_cogs'>
				<div class='loader_cogs__top'>
					<div class='top_part'></div>
					<div class='top_part'></div>
					<div class='top_part'></div>
					<div class='top_hole'></div>
				</div>
				<div class='loader_cogs__left'>
					<div class='left_part'></div>
					<div class='left_part'></div>
					<div class='left_part'></div>
					<div class='left_hole'></div>
				</div>
				<div class='loader_cogs__bottom'>
					<div class='bottom_part'></div>
					<div class='bottom_part'></div>
					<div class='bottom_part'></div>
					<div class='bottom_hole'><!-- lol --></div>
				</div>
				
			</div>
			<h1>Serveur GTAV RP | N3MTV | Version Intégrale Partagée</h1>
			<h2>Pour suivre l'évolution du serveur, rendez-vous sur <b>https://www.twitch.tv/n3mtv et http://nemesis.mtxserv.fr/n3mtv/</b></h2>
			
			<div class="fix">
				<h3 id="loading_text">Chargement, veuillez patienter...</h3>
				<div class="loadbar"><div class="scroll thingy"></div></div>
			</div>
		</div>

		<script>
			var vid = document.getElementById("Loading");
			vid.volume = 0.2
		</script>
			
		<!-- Script of fivem keks loading screen. !--> 			
		<script type="text/javascript">
		var count = 0;
		var thisCount = 0;
		const handlers = {
			startInitFunctionOrder(data)
			{
				count = data.count;

				document.querySelector('.letni h3').innerHTML += emoji[data.type][data.order - 1] || '';
			},

			initFunctionInvoking(data)
			{
				document.querySelector('.thingy').style.left = '0%';
				document.querySelector('.thingy').style.width = ((data.idx / count) * 100) + '%';
			},

			startDataFileEntries(data)
			{
				count = data.count;

				document.querySelector('.letni h3').innerHTML += "\u{1f358}";
			},

			performMapLoadFunction(data)
			{
				++thisCount;

				document.querySelector('.thingy').style.left = '0%';
				document.querySelector('.thingy').style.width = ((thisCount / count) * 100) + '%';
			},

			onLogLine(data)
			{
				document.querySelector('.letni p').innerHTML = data.message + "..!";
			}
		};

		window.addEventListener('message', function(e)
		{
			(handlers[e.data.eventName] || function() {})(e.data);
		});
		</script>
 
    </body>
</html>
